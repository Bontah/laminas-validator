<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>EmailAddress - laminas-validator</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">laminas-validator</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../intro/" class="nav-link">Introduction</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../validator-chains/" class="dropdown-item">Validator Chains</a>
</li>
                                    
<li>
    <a href="../../writing-validators/" class="dropdown-item">Writing Validators</a>
</li>
                                    
<li>
    <a href="../../messages/" class="dropdown-item">Validation Messages</a>
</li>
                                    
<li>
    <a href="../../set/" class="dropdown-item">Standard Validation Classes</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Validators</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../barcode/" class="dropdown-item">Barcode</a>
</li>
            
<li>
    <a href="../between/" class="dropdown-item">Between</a>
</li>
            
<li>
    <a href="../callback/" class="dropdown-item">Callback</a>
</li>
            
<li>
    <a href="../credit-card/" class="dropdown-item">CreditCard</a>
</li>
            
<li>
    <a href="../date/" class="dropdown-item">Date</a>
</li>
            
<li>
    <a href="../db/" class="dropdown-item">Db\RecordExists and Db\NoRecordExists</a>
</li>
            
<li>
    <a href="../digits/" class="dropdown-item">Digits</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active">EmailAddress</a>
</li>
            
<li>
    <a href="../explode/" class="dropdown-item">Explode</a>
</li>
            
<li>
    <a href="../greater-than/" class="dropdown-item">GreaterThan</a>
</li>
            
<li>
    <a href="../hex/" class="dropdown-item">Hex</a>
</li>
            
<li>
    <a href="../hostname/" class="dropdown-item">Hostname</a>
</li>
            
<li>
    <a href="../iban/" class="dropdown-item">Iban</a>
</li>
            
<li>
    <a href="../identical/" class="dropdown-item">Identical</a>
</li>
            
<li>
    <a href="../in-array/" class="dropdown-item">InArray</a>
</li>
            
<li>
    <a href="../ip/" class="dropdown-item">Ip</a>
</li>
            
<li>
    <a href="../isbn/" class="dropdown-item">Isbn</a>
</li>
            
<li>
    <a href="../is-countable/" class="dropdown-item">IsCountable</a>
</li>
            
<li>
    <a href="../isinstanceof/" class="dropdown-item">IsInstanceOf</a>
</li>
            
<li>
    <a href="../less-than/" class="dropdown-item">LessThan</a>
</li>
            
<li>
    <a href="../not-empty/" class="dropdown-item">NotEmpty</a>
</li>
            
<li>
    <a href="../regex/" class="dropdown-item">Regex</a>
</li>
            
<li>
    <a href="../sitemap/" class="dropdown-item">Sitemap</a>
</li>
            
<li>
    <a href="../step/" class="dropdown-item">Step</a>
</li>
            
<li>
    <a href="../string-length/" class="dropdown-item">StringLength</a>
</li>
            
<li>
    <a href="../timezone/" class="dropdown-item">Timezone</a>
</li>
            
<li>
    <a href="../undisclosed-password/" class="dropdown-item">UndisclosedPassword</a>
</li>
            
<li>
    <a href="../uri/" class="dropdown-item">Uri</a>
</li>
            
<li>
    <a href="../uuid/" class="dropdown-item">Uuid</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">File Validators</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../file/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../file/count/" class="dropdown-item">Count</a>
</li>
            
<li>
    <a href="../file/crc32/" class="dropdown-item">Crc32</a>
</li>
            
<li>
    <a href="../file/exclude-extension/" class="dropdown-item">ExcludeExtension</a>
</li>
            
<li>
    <a href="../file/exclude-mime-type/" class="dropdown-item">ExcludeMimeType</a>
</li>
            
<li>
    <a href="../file/exists/" class="dropdown-item">Exists</a>
</li>
            
<li>
    <a href="../file/extension/" class="dropdown-item">Extension</a>
</li>
            
<li>
    <a href="../file/files-size/" class="dropdown-item">FilesSize</a>
</li>
            
<li>
    <a href="../file/hash/" class="dropdown-item">Hash</a>
</li>
            
<li>
    <a href="../file/image-size/" class="dropdown-item">ImageSize</a>
</li>
            
<li>
    <a href="../file/is-compressed/" class="dropdown-item">IsCompressed</a>
</li>
            
<li>
    <a href="../file/is-image/" class="dropdown-item">IsImage</a>
</li>
            
<li>
    <a href="../file/md5/" class="dropdown-item">Md5</a>
</li>
            
<li>
    <a href="../file/mime-type/" class="dropdown-item">MimeType</a>
</li>
            
<li>
    <a href="../file/not-exists/" class="dropdown-item">NotExists</a>
</li>
            
<li>
    <a href="../file/sha1/" class="dropdown-item">Sha1</a>
</li>
            
<li>
    <a href="../file/size/" class="dropdown-item">Size</a>
</li>
            
<li>
    <a href="../file/upload/" class="dropdown-item">Upload</a>
</li>
            
<li>
    <a href="../file/upload-file/" class="dropdown-item">UploadFile</a>
</li>
            
<li>
    <a href="../file/word-count/" class="dropdown-item">WordCount</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../digits/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../explode/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/laminas/laminas-validator/edit/master/docs/validators/email-address.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#emailaddress-validator" class="nav-link">EmailAddress Validator</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#basic-usage" class="nav-link">Basic usage</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#supported-options" class="nav-link">Supported Options</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#complex-local-parts" class="nav-link">Complex local parts</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#validating-only-the-local-part" class="nav-link">Validating only the local part</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#validating-different-types-of-hostnames" class="nav-link">Validating different types of hostnames</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#checking-if-the-hostname-actually-accepts-email" class="nav-link">Checking if the hostname actually accepts email</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#validating-international-domains-names" class="nav-link">Validating International Domains Names</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#validating-top-level-domains" class="nav-link">Validating Top Level Domains</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#setting-messages" class="nav-link">Setting messages</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="emailaddress-validator">EmailAddress Validator</h1>
<p><code>Laminas\Validator\EmailAddress</code> allows you to validate an email address. The
validator first splits the email address on <code>local-part @ hostname</code> and attempts
to match these against known specifications for email addresses and hostnames.</p>
<h2 id="basic-usage">Basic usage</h2>
<p>A basic example of usage is below:</p>
<pre><code class="php">$validator = new Laminas\Validator\EmailAddress();

if ($validator-&gt;isValid($email)) {
    // email appears to be valid
} else {
    // email is invalid; print the reasons
    foreach ($validator-&gt;getMessages() as $message) {
        echo &quot;$message\n&quot;;
    }
}
</code></pre>

<p>This will match the email address <code>$email</code> and on failure populate
<code>getMessages()</code> with useful error messages.</p>
<h2 id="supported-options">Supported Options</h2>
<p><code>Laminas\Validator\EmailAddress</code> supports several options which can either be set
at instantiation, by giving an array with the related options, or afterwards, by
using <code>setOptions()</code>. The following options are supported:</p>
<ul>
<li>
<p><code>allow</code>: Defines which type of domain names are accepted. This option is used
  in conjunction with the hostnameValidator option to set the hostname validator.
  Possible values of this option defined in <a href="../hostname/">Hostname</a> validator's
  <code>ALLOW_*</code> constants:</p>
<ul>
<li><code>ALLOW_DNS</code> (default) - Allows Internet domain names <em>(e.g. example.com)</em></li>
<li><code>ALLOW_IP</code> - Allows IP addresses <em>(e.g. 192.168.0.1)</em></li>
<li><code>ALLOW_LOCAL</code> - Allows local network such as <em>localhost</em> or <em>www.localdomain</em></li>
<li><code>ALLOW_URI</code>  - Allows hostnames in URI generic syntax. See <a href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a></li>
<li><code>ALLOW_ALL</code> - Allows all types of hostnames</li>
</ul>
</li>
<li>
<p><code>useDeepMxCheck</code>: Defines if the servers MX records should be verified by a deep check.
  When this option is set to <code>true</code> then additionally to MX records also the <code>A</code>,
  <code>A6</code> and <code>AAAA</code> records are used to verify if the server accepts emails. This
  option defaults to <code>false</code>.</p>
</li>
<li><code>useDomainCheck</code>: Defines if the domain part should be checked. When this option is
  set to <code>false</code>, then only the local part of the email address will be checked.
  In this case the hostname validator will not be called. This option defaults
  to <code>true</code>.</li>
<li><code>hostnameValidator</code>: Sets the hostname validator object instance with which the
  domain part of the email address will be validated.</li>
<li><code>useMxCheck</code>: Defines if the MX records from the server should be detected. If this
  option is defined to <code>true</code> then the MX records are used to verify if the
  server accepts emails. This option defaults to <code>false</code>.</li>
</ul>
<h2 id="complex-local-parts">Complex local parts</h2>
<p><code>Laminas\Validator\EmailAddress</code> will match any valid email address according to
RFC2822. For example, valid emails include <code>bob@domain.com</code>,
<code>bob+jones@domain.us</code>, <code>"bob@jones"@domain.com*</code> and <code>"bob jones"@domain.com</code></p>
<p>Some obsolete email formats will not currently validate (e.g. carriage returns
or a <code>\\</code> character in an email address).</p>
<h2 id="validating-only-the-local-part">Validating only the local part</h2>
<p>If you need <code>Laminas\Validator\EmailAddress</code> to check only the local part of an
email address, and want to disable validation of the hostname, you can set the
<code>domain</code> option to <code>false</code>. This forces <code>Laminas\Validator\EmailAddress</code> not to
validate the hostname part of the email address.</p>
<pre><code class="php">$validator = new Laminas\Validator\EmailAddress();
$validator-&gt;setOptions(['domain' =&gt; FALSE]);
</code></pre>

<h2 id="validating-different-types-of-hostnames">Validating different types of hostnames</h2>
<p>The hostname part of an email address is validated against the <a href="../hostname/">Hostname validator</a>.
By default only DNS hostnames of the form <code>domain.com</code> are accepted, though if
you wish you can accept IP addresses and Local hostnames too.</p>
<p>To do this you need to instantiate <code>Laminas\Validator\EmailAddress</code> passing a
parameter to indicate the type of hostnames you want to accept. More details are
included in <code>Laminas\Validator\Hostname</code>, though an example of how to accept both
DNS and Local hostnames appears below:</p>
<pre><code class="php">use Laminas\Validator\EmailAddress;
use Laminas\Validator\Hostname;

$validator = new EmailAddress( Hostname::ALLOW_DNS | Hostname::ALLOW_LOCAL);

if ($validator-&gt;isValid($email)) {
    // email appears to be valid
} else {
    // email is invalid; print the reasons
    foreach ($validator-&gt;getMessages() as $message) {
        echo &quot;$message\n&quot;;
    }
}
</code></pre>

<h2 id="checking-if-the-hostname-actually-accepts-email">Checking if the hostname actually accepts email</h2>
<p>Just because an email address is in the correct format, it doesn't necessarily
mean that email address actually exists. To help solve this problem, you can use
MX validation to check whether an MX (email) entry exists in the DNS record for
the email's hostname. This tells you that the hostname accepts email, but
doesn't tell you the exact email address itself is valid.</p>
<p>MX checking is not enabled by default. To enable MX checking you can pass a
second parameter to the <code>Laminas\Validator\EmailAddress</code> constructor.</p>
<pre><code class="php">$validator = new Laminas\Validator\EmailAddress([
    'allow' =&gt; Laminas\Validator\Hostname::ALLOW_DNS,
    'useMxCheck'    =&gt; true,
]);
</code></pre>

<p>Alternatively you can either pass <code>true</code> or <code>false</code> to <code>setValidateMx()</code> to
enable or disable MX validation.</p>
<p>By enabling this setting, network functions will be used to check for the
presence of an MX record on the hostname of the email address you wish to
validate. Please be aware this will likely slow your script down.</p>
<p>Sometimes validation for MX records returns <code>false</code>, even if emails are
accepted. The reason behind this behaviour is, that servers can accept emails
even if they do not provide a MX record. In this case they can provide <code>A</code>,
<code>A6</code>, or <code>AAAA</code> records. To allow <code>Laminas\Validator\EmailAddress</code> to check also
for these other records, you need to set deep MX validation. This can be done at
initiation by setting the <code>deep</code> option or by using <code>setOptions()</code>.</p>
<pre><code class="php">$validator = new Laminas\Validator\EmailAddress([
    'allow' =&gt; Laminas\Validator\Hostname::ALLOW_DNS,
    'useMxCheck'    =&gt; true,
    'useDeepMxCheck'  =&gt; true,
]);
</code></pre>

<p>Sometimes it can be useful to get the server's MX information which have been
used to do further processing. Simply use <code>getMXRecord()</code> after validation. This
method returns the received MX record including weight and sorted by it.</p>
<blockquote>
<h3 id="performance-warning">Performance warning**</h3>
<p>You should be aware that enabling MX check will slow down you script because
of the used network functions. Enabling deep check will slow down your script
even more as it searches the given server for 3 additional types.</p>
<h3 id="disallowed-ip-addresses">Disallowed IP addresses</h3>
<p>You should note that MX validation is only accepted for external servers. When
deep MX validation is enabled, then local IP addresses like <code>192.168.*</code> or
<code>169.254.*</code> are not accepted.</p>
</blockquote>
<h2 id="validating-international-domains-names">Validating International Domains Names</h2>
<p><code>Laminas\Validator\EmailAddress</code> will also match international characters that
exist in some domains. This is known as International Domain Name (IDN) support.
This is enabled by default, though you can disable this by changing the setting
via the internal <code>Laminas\Validator\Hostname</code> object that exists within
<code>Laminas\Validator\EmailAddress</code>.</p>
<pre><code class="php">$validator-&gt;getHostnameValidator()-&gt;setValidateIdn(false);
</code></pre>

<p>More information on the usage of <code>setValidateIdn()</code> appears in the
<a href="../hostname/">Hostname documentation</a>.</p>
<p>Please note IDNs are only validated if you allow DNS hostnames to be validated.</p>
<h2 id="validating-top-level-domains">Validating Top Level Domains</h2>
<p>By default a hostname will be checked against a list of known TLDs. This is
enabled by default, though you can disable this by changing the setting via the
internal <code>Laminas\Validator\Hostname</code> object that exists within
<code>Laminas\Validator\EmailAddress</code>.</p>
<pre><code class="php">$validator-&gt;getHostnameValidator()-&gt;setValidateTld(false);
</code></pre>

<p>More information on the usage of <code>setValidateTld()</code> appears in the
<a href="../hostname/">Hostname documentation</a>.</p>
<p>Please note TLDs are only validated if you allow DNS hostnames to be validated.</p>
<h2 id="setting-messages">Setting messages</h2>
<p><code>Laminas\Validator\EmailAddress</code> makes also use of <code>Laminas\Validator\Hostname</code> to
check the hostname part of a given email address. You can specify messages for
<code>Laminas\Validator\Hostname</code> from within <code>Laminas\Validator\EmailAddress</code>.</p>
<pre><code class="php">$validator = new Laminas\Validator\EmailAddress();
$validator-&gt;setMessages([
    Laminas\Validator\Hostname::UNKNOWN_TLD =&gt; 'I don\'t know the TLD you gave'
]);
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <div class="table-responsive"><table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
