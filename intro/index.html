<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Introduction - laminas-validator</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">laminas-validator</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Introduction</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../validator-chains/" class="dropdown-item">Validator Chains</a>
</li>
                                    
<li>
    <a href="../writing-validators/" class="dropdown-item">Writing Validators</a>
</li>
                                    
<li>
    <a href="../messages/" class="dropdown-item">Validation Messages</a>
</li>
                                    
<li>
    <a href="../set/" class="dropdown-item">Standard Validation Classes</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Validators</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../validators/barcode/" class="dropdown-item">Barcode</a>
</li>
            
<li>
    <a href="../validators/between/" class="dropdown-item">Between</a>
</li>
            
<li>
    <a href="../validators/callback/" class="dropdown-item">Callback</a>
</li>
            
<li>
    <a href="../validators/credit-card/" class="dropdown-item">CreditCard</a>
</li>
            
<li>
    <a href="../validators/date/" class="dropdown-item">Date</a>
</li>
            
<li>
    <a href="../validators/db/" class="dropdown-item">Db\RecordExists and Db\NoRecordExists</a>
</li>
            
<li>
    <a href="../validators/digits/" class="dropdown-item">Digits</a>
</li>
            
<li>
    <a href="../validators/email-address/" class="dropdown-item">EmailAddress</a>
</li>
            
<li>
    <a href="../validators/explode/" class="dropdown-item">Explode</a>
</li>
            
<li>
    <a href="../validators/greater-than/" class="dropdown-item">GreaterThan</a>
</li>
            
<li>
    <a href="../validators/hex/" class="dropdown-item">Hex</a>
</li>
            
<li>
    <a href="../validators/hostname/" class="dropdown-item">Hostname</a>
</li>
            
<li>
    <a href="../validators/iban/" class="dropdown-item">Iban</a>
</li>
            
<li>
    <a href="../validators/identical/" class="dropdown-item">Identical</a>
</li>
            
<li>
    <a href="../validators/in-array/" class="dropdown-item">InArray</a>
</li>
            
<li>
    <a href="../validators/ip/" class="dropdown-item">Ip</a>
</li>
            
<li>
    <a href="../validators/isbn/" class="dropdown-item">Isbn</a>
</li>
            
<li>
    <a href="../validators/is-countable/" class="dropdown-item">IsCountable</a>
</li>
            
<li>
    <a href="../validators/isinstanceof/" class="dropdown-item">IsInstanceOf</a>
</li>
            
<li>
    <a href="../validators/less-than/" class="dropdown-item">LessThan</a>
</li>
            
<li>
    <a href="../validators/not-empty/" class="dropdown-item">NotEmpty</a>
</li>
            
<li>
    <a href="../validators/regex/" class="dropdown-item">Regex</a>
</li>
            
<li>
    <a href="../validators/sitemap/" class="dropdown-item">Sitemap</a>
</li>
            
<li>
    <a href="../validators/step/" class="dropdown-item">Step</a>
</li>
            
<li>
    <a href="../validators/string-length/" class="dropdown-item">StringLength</a>
</li>
            
<li>
    <a href="../validators/timezone/" class="dropdown-item">Timezone</a>
</li>
            
<li>
    <a href="../validators/undisclosed-password/" class="dropdown-item">UndisclosedPassword</a>
</li>
            
<li>
    <a href="../validators/uri/" class="dropdown-item">Uri</a>
</li>
            
<li>
    <a href="../validators/uuid/" class="dropdown-item">Uuid</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">File Validators</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../validators/file/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../validators/file/count/" class="dropdown-item">Count</a>
</li>
            
<li>
    <a href="../validators/file/crc32/" class="dropdown-item">Crc32</a>
</li>
            
<li>
    <a href="../validators/file/exclude-extension/" class="dropdown-item">ExcludeExtension</a>
</li>
            
<li>
    <a href="../validators/file/exclude-mime-type/" class="dropdown-item">ExcludeMimeType</a>
</li>
            
<li>
    <a href="../validators/file/exists/" class="dropdown-item">Exists</a>
</li>
            
<li>
    <a href="../validators/file/extension/" class="dropdown-item">Extension</a>
</li>
            
<li>
    <a href="../validators/file/files-size/" class="dropdown-item">FilesSize</a>
</li>
            
<li>
    <a href="../validators/file/hash/" class="dropdown-item">Hash</a>
</li>
            
<li>
    <a href="../validators/file/image-size/" class="dropdown-item">ImageSize</a>
</li>
            
<li>
    <a href="../validators/file/is-compressed/" class="dropdown-item">IsCompressed</a>
</li>
            
<li>
    <a href="../validators/file/is-image/" class="dropdown-item">IsImage</a>
</li>
            
<li>
    <a href="../validators/file/md5/" class="dropdown-item">Md5</a>
</li>
            
<li>
    <a href="../validators/file/mime-type/" class="dropdown-item">MimeType</a>
</li>
            
<li>
    <a href="../validators/file/not-exists/" class="dropdown-item">NotExists</a>
</li>
            
<li>
    <a href="../validators/file/sha1/" class="dropdown-item">Sha1</a>
</li>
            
<li>
    <a href="../validators/file/size/" class="dropdown-item">Size</a>
</li>
            
<li>
    <a href="../validators/file/upload/" class="dropdown-item">Upload</a>
</li>
            
<li>
    <a href="../validators/file/upload-file/" class="dropdown-item">UploadFile</a>
</li>
            
<li>
    <a href="../validators/file/word-count/" class="dropdown-item">WordCount</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href=".." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../validator-chains/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/laminas/laminas-validator/edit/master/docs/intro.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#introduction" class="nav-link">Introduction</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#what-is-a-validator" class="nav-link">What is a validator?</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#basic-usage-of-validators" class="nav-link">Basic usage of validators</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#customizing-messages" class="nav-link">Customizing messages</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#translating-messages" class="nav-link">Translating messages</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="introduction">Introduction</h1>
<p>laminas-validator provides a set of commonly needed validators. It also provides a
simple validator chaining mechanism by which multiple validators may be applied
to a single datum in a user-defined order.</p>
<h2 id="what-is-a-validator">What is a validator?</h2>
<p>A validator examines its input with respect to some requirements and produces a
boolean result indicating whether the input successfully validates against the
requirements. If the input does not meet the requirements, a validator may
additionally provide information about which requirement(s) the input does not
meet.</p>
<p>For example, a web application might require that a username be between six and
twelve characters in length, and may only contain alphanumeric characters. A
validator can be used for ensuring that a username meets these requirements. If
a chosen username does not meet one or both of the requirements, it would be
useful to know which of the requirements the username fails to meet.</p>
<h2 id="basic-usage-of-validators">Basic usage of validators</h2>
<p>Having defined validation in this way provides the foundation for
<code>Laminas\Validator\ValidatorInterface</code>, which defines two methods, <code>isValid()</code> and
<code>getMessages()</code>. The <code>isValid()</code> method performs validation upon the provided
value, returning <code>true</code> if and only if the value passes against the validation
criteria.</p>
<p>If <code>isValid()</code> returns <code>false</code>, the <code>getMessages()</code> method will return an array
of messages explaining the reason(s) for validation failure. The array keys are
short strings that identify the reasons for validation failure, and the array
values are the corresponding human-readable string messages. The keys and values
are class-dependent; each validation class defines its own set of validation
failure messages and the unique keys that identify them. Each class also has a
<code>const</code> definition that matches each identifier for a validation failure cause.</p>
<blockquote>
<h3 id="stateful-validators">Stateful validators</h3>
<p>The <code>getMessages()</code> methods return validation failure information only for the
most recent <code>isValid()</code> call. Each call to <code>isValid()</code> clears any messages and
errors caused by a previous <code>isValid()</code> call, because it's likely that each
call to <code>isValid()</code> is made for a different input value.</p>
</blockquote>
<p>The following example illustrates validation of an e-mail address:</p>
<pre><code class="php">use Laminas\Validator\EmailAddress;

$validator = new EmailAddress();

if ($validator-&gt;isValid($email)) {
    // email appears to be valid
} else {
    // email is invalid; print the reasons
    foreach ($validator-&gt;getMessages() as $messageId =&gt; $message) {
        printf(&quot;Validation failure '%s': %s\n&quot;, $messageId, $message);
    }
}
</code></pre>

<h2 id="customizing-messages">Customizing messages</h2>
<p>Validator classes provide a <code>setMessage()</code> method with which you can specify the
format of a message returned by <code>getMessages()</code> in case of validation failure.
The first argument of this method is a string containing the error message. You
can include tokens in this string which will be substituted with data relevant
to the validator. The token <code>%value%</code> is supported by all validators; this is
substituted with the value you passed to <code>isValid()</code>. Other tokens may be
supported on a case-by-case basis in each validation class. For example, <code>%max%</code>
is a token supported by <code>Laminas\Validator\LessThan</code>. The <code>getMessageVariables()</code>
method returns an array of variable tokens supported by the validator.</p>
<p>The second optional argument is a string that identifies the validation failure
message template to be set, which is useful when a validation class defines more
than one cause for failure. If you omit the second argument, <code>setMessage()</code>
assumes the message you specify should be used for the first message template
declared in the validation class. Many validation classes only have one error
message template defined, so there is no need to specify which message template
you are changing.</p>
<pre><code class="php">use Laminas\Validator\StringLength;

$validator = new StringLength(8);

$validator-&gt;setMessage(
    'The string \'%value%\' is too short; it must be at least %min% characters',
    StringLength::TOO_SHORT
);

if (! $validator-&gt;isValid('word')) {
    $messages = $validator-&gt;getMessages();
    echo current($messages);

    // &quot;The string 'word' is too short; it must be at least 8 characters&quot;
}
</code></pre>

<p>You can set multiple messages using the <code>setMessages()</code> method. Its argument is
an array containing key/message pairs.</p>
<pre><code class="php">use Laminas\Validator\StringLength;

$validator = new StringLength(['min' =&gt; 8, 'max' =&gt; 12]);

$validator-&gt;setMessages([
    StringLength::TOO_SHORT =&gt; 'The string \'%value%\' is too short',
    StringLength::TOO_LONG  =&gt; 'The string \'%value%\' is too long',
]);
</code></pre>

<p>If your application requires even greater flexibility with which it reports
validation failures, you can access properties by the same name as the message
tokens supported by a given validation class. The <code>value</code> property is always
available in a validator; it is the value you specified as the argument of
<code>isValid()</code>. Other properties may be supported on a case-by-case basis in each
validation class.</p>
<pre><code class="php">use Laminas\Validator\StringLength;

$validator = new StringLength(['min' =&gt; 8, 'max' =&gt; 12]);

if (! $validator-&gt;isValid('word')) {
    printf(
        &quot;Word failed: %s; its length is not between %d and %d\n&quot;,
        $validator-&gt;value,
        $validator-&gt;min,
        $validator-&gt;max
    );
}
</code></pre>

<h2 id="translating-messages">Translating messages</h2>
<blockquote>
<h3 id="installation-requirements">Installation requirements</h3>
<p>The translation of validator messages depends on the laminas-i18n component, so
be sure to have it installed before getting started:</p>
<p><code>bash
$ composer require laminas/laminas-i18n</code></p>
</blockquote>
<p>Validator classes provide a <code>setTranslator()</code> method with which you can specify
an instance of <code>Laminas\Validator\Translator\TranslatorInterface</code> which will
translate the messages in case of a validation failure. The <code>getTranslator()</code>
method returns the translator instance. <code>Laminas\Mvc\I18n\Translator</code> provides an
implementation compatible with the validator component.</p>
<pre><code class="php">use Laminas\Mvc\I18n\Translator;
use Laminas\Validator\StringLength;

$validator = new StringLength(['min' =&gt; 8, 'max' =&gt; 12]);
$translate = new Translator();
// configure the translator...

$validator-&gt;setTranslator($translate);
</code></pre>

<p>With the static <code>AbstractValidator::setDefaultTranslator()</code> method you can set a
instance of <code>Laminas\Validator\Translator\TranslatorInterface</code> which will be used
for all validation classes, and can be retrieved with <code>getDefaultTranslator()</code>.
This prevents the need for setting a translator manually with each validator.</p>
<pre><code class="php">use Laminas\Mvc\I18n\Translator;
use Laminas\Validator\AbstractValidator;

$translate = new Translator();
// configure the translator...

AbstractValidator::setDefaultTranslator($translate);
</code></pre>

<p>Sometimes it is necessary to disable the translator within a validator. To
achieve this you can use the <code>setDisableTranslator()</code> method, which accepts a
boolean parameter, and <code>isTranslatorDisabled()</code> to get the set value.</p>
<pre><code class="php">use Laminas\Validator\StringLength;

$validator = new StringLength(['min' =&gt; 8, 'max' =&gt; 12]);
if (! $validator-&gt;isTranslatorDisabled()) {
    $validator-&gt;setDisableTranslator();
}
</code></pre>

<p>It is also possible to use a translator instead of setting own messages with
<code>setMessage()</code>. But doing so, you should keep in mind, that the translator works
also on messages you set your own.</p>
<blockquote>
<h3 id="translation-compatibility">Translation compatibility</h3>
<p>In versions 2.0 - 2.1, <code>Laminas\Validator\AbstractValidator</code> implemented
<code>Laminas\I18n\Translator\TranslatorAwareInterface</code> and accepted instances of
<code>Laminas\I18n\Translator\Translator</code>. Starting in version 2.2.0, laminas-validator
now defines a translator interface, &gt; <code>Laminas\Validator\Translator\TranslatorInterface</code>,
as well as it's own -aware variant, &gt; <code>Laminas\Validator\Translator\TranslatorAwareInterface</code>.
This was done to reduce dependencies for the component, and follows the
principal of Separated Interfaces.</p>
<p>The upshot is that if you are migrating from a pre-2.2 version, and receiving
errors indicating that the translator provided does not implement
<code>Laminas\Validator\Translator\TranslatorInterface</code>, you will need to make a
change to your code.</p>
<p>An implementation of <code>Laminas\Validator\Translator\TranslatorInterface</code> is
provided in <code>Laminas\Mvc\I18n\Translator</code>, which also extends
<code>Laminas\I18n\Translator\Translator</code>. This version can be instantiated and used
just as the original <code>Laminas\I18n</code> version.</p>
<p>A new service has also been registered with the MVC, <code>MvcTranslator</code>, which
will return this specialized, bridge instance.</p>
<p>Most users should see no issues, as <code>Laminas\Validator\ValidatorPluginManager</code>
has been modified to use the <code>MvcTranslator</code> service internally, which is how
most developers were getting the translator instance into validators in the
first place. You will only need to change code if you were manually injecting
the instance previously.</p>
</blockquote></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <div class="table-responsive"><table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
