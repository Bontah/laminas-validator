<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Validator Chains - laminas-validator</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">laminas-validator</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../intro/" class="nav-link">Introduction</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active">Validator Chains</a>
</li>
                                    
<li>
    <a href="../writing-validators/" class="dropdown-item">Writing Validators</a>
</li>
                                    
<li>
    <a href="../messages/" class="dropdown-item">Validation Messages</a>
</li>
                                    
<li>
    <a href="../set/" class="dropdown-item">Standard Validation Classes</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Validators</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../validators/barcode/" class="dropdown-item">Barcode</a>
</li>
            
<li>
    <a href="../validators/between/" class="dropdown-item">Between</a>
</li>
            
<li>
    <a href="../validators/callback/" class="dropdown-item">Callback</a>
</li>
            
<li>
    <a href="../validators/credit-card/" class="dropdown-item">CreditCard</a>
</li>
            
<li>
    <a href="../validators/date/" class="dropdown-item">Date</a>
</li>
            
<li>
    <a href="../validators/db/" class="dropdown-item">Db\RecordExists and Db\NoRecordExists</a>
</li>
            
<li>
    <a href="../validators/digits/" class="dropdown-item">Digits</a>
</li>
            
<li>
    <a href="../validators/email-address/" class="dropdown-item">EmailAddress</a>
</li>
            
<li>
    <a href="../validators/explode/" class="dropdown-item">Explode</a>
</li>
            
<li>
    <a href="../validators/greater-than/" class="dropdown-item">GreaterThan</a>
</li>
            
<li>
    <a href="../validators/hex/" class="dropdown-item">Hex</a>
</li>
            
<li>
    <a href="../validators/hostname/" class="dropdown-item">Hostname</a>
</li>
            
<li>
    <a href="../validators/iban/" class="dropdown-item">Iban</a>
</li>
            
<li>
    <a href="../validators/identical/" class="dropdown-item">Identical</a>
</li>
            
<li>
    <a href="../validators/in-array/" class="dropdown-item">InArray</a>
</li>
            
<li>
    <a href="../validators/ip/" class="dropdown-item">Ip</a>
</li>
            
<li>
    <a href="../validators/isbn/" class="dropdown-item">Isbn</a>
</li>
            
<li>
    <a href="../validators/is-countable/" class="dropdown-item">IsCountable</a>
</li>
            
<li>
    <a href="../validators/isinstanceof/" class="dropdown-item">IsInstanceOf</a>
</li>
            
<li>
    <a href="../validators/less-than/" class="dropdown-item">LessThan</a>
</li>
            
<li>
    <a href="../validators/not-empty/" class="dropdown-item">NotEmpty</a>
</li>
            
<li>
    <a href="../validators/regex/" class="dropdown-item">Regex</a>
</li>
            
<li>
    <a href="../validators/sitemap/" class="dropdown-item">Sitemap</a>
</li>
            
<li>
    <a href="../validators/step/" class="dropdown-item">Step</a>
</li>
            
<li>
    <a href="../validators/string-length/" class="dropdown-item">StringLength</a>
</li>
            
<li>
    <a href="../validators/timezone/" class="dropdown-item">Timezone</a>
</li>
            
<li>
    <a href="../validators/undisclosed-password/" class="dropdown-item">UndisclosedPassword</a>
</li>
            
<li>
    <a href="../validators/uri/" class="dropdown-item">Uri</a>
</li>
            
<li>
    <a href="../validators/uuid/" class="dropdown-item">Uuid</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">File Validators</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../validators/file/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../validators/file/count/" class="dropdown-item">Count</a>
</li>
            
<li>
    <a href="../validators/file/crc32/" class="dropdown-item">Crc32</a>
</li>
            
<li>
    <a href="../validators/file/exclude-extension/" class="dropdown-item">ExcludeExtension</a>
</li>
            
<li>
    <a href="../validators/file/exclude-mime-type/" class="dropdown-item">ExcludeMimeType</a>
</li>
            
<li>
    <a href="../validators/file/exists/" class="dropdown-item">Exists</a>
</li>
            
<li>
    <a href="../validators/file/extension/" class="dropdown-item">Extension</a>
</li>
            
<li>
    <a href="../validators/file/files-size/" class="dropdown-item">FilesSize</a>
</li>
            
<li>
    <a href="../validators/file/hash/" class="dropdown-item">Hash</a>
</li>
            
<li>
    <a href="../validators/file/image-size/" class="dropdown-item">ImageSize</a>
</li>
            
<li>
    <a href="../validators/file/is-compressed/" class="dropdown-item">IsCompressed</a>
</li>
            
<li>
    <a href="../validators/file/is-image/" class="dropdown-item">IsImage</a>
</li>
            
<li>
    <a href="../validators/file/md5/" class="dropdown-item">Md5</a>
</li>
            
<li>
    <a href="../validators/file/mime-type/" class="dropdown-item">MimeType</a>
</li>
            
<li>
    <a href="../validators/file/not-exists/" class="dropdown-item">NotExists</a>
</li>
            
<li>
    <a href="../validators/file/sha1/" class="dropdown-item">Sha1</a>
</li>
            
<li>
    <a href="../validators/file/size/" class="dropdown-item">Size</a>
</li>
            
<li>
    <a href="../validators/file/upload/" class="dropdown-item">Upload</a>
</li>
            
<li>
    <a href="../validators/file/upload-file/" class="dropdown-item">UploadFile</a>
</li>
            
<li>
    <a href="../validators/file/word-count/" class="dropdown-item">WordCount</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../intro/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../writing-validators/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/laminas/laminas-validator/edit/master/docs/validator-chains.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#validator-chains" class="nav-link">Validator Chains</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#basic-usage" class="nav-link">Basic Usage</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#setting-validator-chain-order" class="nav-link">Setting Validator Chain Order</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="validator-chains">Validator Chains</h1>
<h2 id="basic-usage">Basic Usage</h2>
<blockquote>
<h3 id="installation-requirements">Installation requirements</h3>
<p>The validator chain depends on the laminas-servicemanager component, so be sure
to have it installed before getting started:</p>
<p><code>bash
$ composer require laminas/laminas-servicemanager</code></p>
</blockquote>
<p>Often, multiple validations should be applied to some value in a particular
order. The following code demonstrates a way to solve the example from the
<a href="../intro/">introduction</a>, where a username must be between 6 and 12 alphanumeric
characters:</p>
<pre><code class="php">use Laminas\I18n\Validator\Alnum;
use Laminas\Validator\StringLength;
use Laminas\Validator\ValidatorChain;

// Create a validator chain and add validators to it
$validatorChain = new ValidatorChain();
$validatorChain-&gt;attach(new StringLength(['min' =&gt; 6, 'max' =&gt; 12]));
$validatorChain-&gt;attach(new Alnum());

// Validate the username
if ($validatorChain-&gt;isValid($username)) {
    // username passed validation
} else {
    // username failed validation; print reasons
    foreach ($validatorChain-&gt;getMessages() as $message) {
        echo &quot;$message\n&quot;;
    }
}
</code></pre>

<p>Validators are run in the order they were added to the <code>ValidatorChain</code>. In the
above example, the username is first checked to ensure that its length is
between 6 and 12 characters, and then it is checked to ensure that it contains
only alphanumeric characters. The second validation, for alphanumeric
characters, is performed regardless of whether the first validation, for length
between 6 and 12 characters, succeeds. This means that if both validations fail,
<code>getMessages()</code> will return failure messages from both validators.</p>
<p>In some cases, it makes sense to have a validator <em>break the chain</em> if its
validation process fails. <code>ValidatorChain</code> supports such use cases with the
second parameter to the <code>attach()</code> method. By setting <code>$breakChainOnFailure</code> to
<code>true</code>, if the validator fails, it will short-circuit execution of the chain,
preventing subsequent validators from executing.  If the above example were
written as follows, then the alphanumeric validation would not occur if the
string length validation fails:</p>
<pre><code class="php">$chain-&gt;attach(new StringLength(['min' =&gt; 6, 'max' =&gt; 12]), true);
$chain-&gt;attach(new Alnum());
</code></pre>

<p>Any object that implements <code>Laminas\Validator\ValidatorInterface</code> may be used in a
validator chain.</p>
<h2 id="setting-validator-chain-order">Setting Validator Chain Order</h2>
<p>For each validator added to the <code>ValidatorChain</code>, you can set a <em>priority</em> to
define the chain order. The default value is <code>1</code>. Higher values indicate earlier
execution, while lower values execute later; use negative values to force late
execution.</p>
<p>In the following example, the username is first checked to ensure that its
length is between 7 and 9 characters, and then it is checked to ensure that its
length is between 3 and 5 characters.</p>
<pre><code class="php">use Laminas\I18n\Validator\Alnum;
use Laminas\Validator\StringLength;
use Laminas\Validator\ValidatorChain;

$username = 'ABCDFE';

// Create a validator chain and add validators to it
$validatorChain = new ValidatorChain();
$validatorChain-&gt;attach(
    new StringLength(['min' =&gt; 3, 'max' =&gt; 5]),
    true, // break chain on failure
    1
);
$validatorChain-&gt;attach(
    new StringLength(['min' =&gt; 7, 'max' =&gt; 9]),
    true, // break chain on failure
    2     // higher priority!
);

// Validate the username
if ($validatorChain-&gt;isValid($username)) {
    // username passed validation
    echo &quot;Success&quot;;
} else {
    // username failed validation; print reasons
    foreach ($validatorChain-&gt;getMessages() as $message) {
        echo &quot;$message\n&quot;;
    }
}

// This first example will display: The input is less than 7 characters long
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <div class="table-responsive"><table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
